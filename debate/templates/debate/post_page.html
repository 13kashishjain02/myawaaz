{% extends 'debate/base.html' %}
{%load static%}
{% block title%} Shop - Elpizo{% endblock %}
{% block style%}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">

<!--script for popover-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

      <style>
.container-title {
  position: relative;
  text-align: center;
  color: white;
}
.centered {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.titletag-button {
    padding:5px 5px 5px 5px;
    color:#fff;
    background-color: #007bff;
    border-color: #fff;
    border-radius: 0.5rem;
    border:solid 1px;
    font-size:13px;
    }

    .tag-button {
    padding:0rem 5px 0rem 5px;
    color:#fff;
    background-color: #007bff;
    border-color: #007bff;
    border-radius: 0.5rem;
    border:none;
    font-size:13px;
    }

/* animation */
.favour-box{
      height:80px;
      font-size: 1.2em;
      /* "to left" / "to right" - affects initial col
      or */
      background: linear-gradient(to left, white 50%,lightgreen 50%) right;
      background-size: 200%;
      transition: .4s ease-out;
      box-shadow: 5px 6px 6px 2px #e9ecef;
  }
  .favour-box:hover {
      background-position: left;
  }
  .against-box{
      height:80px;
      font-size: 1.2em;
      /* "to left" / "to right" - affects initial col
      or */
      background: linear-gradient(to left, white 50%,#FF804D 50%) right;
      background-size: 200%;
      transition: .4s ease-out;
      box-shadow: 5px 6px 6px 2px #e9ecef;
  }
  .against-box:hover {
      background-position: left;
  }

.title-box{
      height:100px;
      font-size: 2em;

      /* "to left" / "to right" - affects initial col
      or */
      background: linear-gradient(to left, white 50%,#C5D3FF 50%) right;
      background-size: 200%;
      transition: .4s ease-out;
      box-shadow: 5px 6px 6px 2px #e9ecef;
  }
  .title-box:hover {
      background-position: left;
  }



  .debate-head{
    padding:1%;
  }
  #rating-heading{
      width:95%;
  }


.like-icon{
  padding: 1%;
}
.like-icon:hover{
  animation: e
}
header{
  margin-bottom: 10%;

}


@media only screen and (max-width: 768px) {

  /* For mobile phones: */
 header{
   margin-top: 20%;
 }
}


  </style>
{% endblock %}

{% block body%}
<div class="container ">
  <div class="container-title">
      <img src="media/{{debate.image}}" alt="Snow" style="width:100%; height:30vh;">
      <div class="centered">
          {% for t in debate.tags|slice:"0:5" %}
          <button class="titletag-button mb-4">
              <b style="font-family: 'Roboto', sans-serif;" class="text-uppercase"> {{t}}</b>
          </button>
          {% endfor %}
      </div>
  </div>
<!--<img src="{%static 'debate/images/science.jpg'%}" alt="drugs" width="100%" height="200px">-->

  <div class="row mt-4">

<!--    title section  -->

    <div class="col-12 ">
        <div class="border border-info rounded text-info title-box mb-3 d-flex align-items-center justify-content-center">
            <h2  style="font-family: 'Roboto', sans-serif; color:#203FA0;" class="pl-2" ><strong >{{debate.title}}</strong></h2>
        </div>
    </div>

<!--    pros section  -->

    <div class="col-6 pr-0">
      <div class="border border-success rounded text-success favour-box mb-3 mr-1 d-flex align-items-center justify-content-between" >
          <h3 class="text-center ml-3" style="font-family: 'Roboto', sans-serif;"><strong >Pros</strong></h3>

          <button type="button" style="background-color: white; border:none;" data-toggle="modal" data-target="#myModal"><i class='fa fa-plus-square mr-4 ml-2' style='font-size:30px;color:green'></i></button>

          <!-- Modal -->
          <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title">Add Pros</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <form action="../proslike/{{i.id}}/" method="post" style="display: inline;" class="ml-0">
                    {% csrf_token%}
                <div class="modal-body">
                    <textarea name="pros" rows="5" style="width:100%;"></textarea>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary">Submit</button>
                </div>
                </form>
              </div>

            </div>
          </div>

      </div>
      {% for i in pros %}
        <div class="  border border-success rounded mr-1 mb-1" style="box-shadow: 2px 3px 6px 2px #e9ecef;">
          <p style="font-size:15px; font-family: 'Roboto', sans-serif;" class="pl-1">
              {{i.pros}}
          </p>
          <div class="text-left">
                <a data-toggle="popover" title="Tags"
                   data-bs-content="{{i.tags}}"><button type="button" class="tag-button ml-2 mr-2 mb-2">Tags</button>
                </a>
                {{i.likecount}}
                <form action="../proslike/{{i.id}}/" method="post" style="display: inline;" class="ml-0">
                    {% csrf_token%}
                     <button type="submit" style="background-color: white; border:none;"><i class="fa fa-thumbs-o-up mb-2" style="font-size:20px;color:blue"></i></button>
                </form>

<!--                <button type="button" style="background-color: white; border:none;" data-toggle="collapse" data-target="#comment{{i.id}}"><i class="fa fa-commenting-o ml-2 mb-2"></i></button>-->
                <a  data-bs-toggle="collapse" href="#comment{{i.id}}" role="button" aria-expanded="false" aria-controls="comment{{i.id}}">
                    <i class="fa fa-commenting-o ml-2 mb-2"></i>
                </a>
                <div id="comment{{i.id}}" class="collapse">
                    <hr>
                    <div class="d-flex flex-row add-comment-section mb-1">
<!--                        <img class="img-fluid img-responsive rounded-circle mr-2" src="https://i.imgur.com/qdiP4DB.jpg" width="38">-->
                        <input type="text" class="form-control mr-1" placeholder="Add comment">
                        <button class="tag-button" type="button">send</button>
                    </div>
                    {% for c in i.comment %}
                    <div class="card p-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="user d-flex flex-row align-items-center" >
                                <img src="https://www.internetandtechnologylaw.com/files/2019/06/iStock-872962368-chat-bots.jpg" width="30" class="user-img rounded-circle mr-2">
                                <span>
                                    <small class="font-weight-bold text-primary">{{c.name}}</small>
                                    <small class="font-weight-bold">{{c.comment}}</small>
                                </span>
                            </div>
                        </div>

                    </div>
                    {% endfor %}
                </div>
          </div>
        </div>
      {% endfor %}
    </div>

<!--    cons section  -->

    <div class="col-6 pl-0">
       <div class="border border-danger rounded text-danger against-box mb-3 mr-1 d-flex align-items-center justify-content-between" >
          <h3 class="text-center ml-3" style="font-family: 'Roboto', sans-serif;"><strong >Cons</strong></h3>

          <button type="button" style="background-color: white; border:none;" data-toggle="modal" data-target="#myModal2"><i class='fa fa-plus-square mr-4 ml-2' style='font-size:30px;color:red'></i></button>

          <!-- Modal -->
          <div class="modal fade" id="myModal2" role="dialog">
            <div class="modal-dialog">

              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <h4 class="modal-title">Add Cons</h4>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <form action="../proslike/{{i.id}}/" method="post" style="display: inline;" class="ml-0">
                    {% csrf_token%}
                <div class="modal-body">
                    <textarea name="pros" rows="5" style="width:100%;"></textarea>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary">Submit</button>
                </div>
                </form>
              </div>

            </div>
          </div>

      </div>
      {% for i in cons %}
        <div class="  border border-danger rounded mr-1 mb-1" style="box-shadow: 2px 3px 6px 2px #e9ecef;" >
          <p style="font-size:15px; font-family: 'Roboto', sans-serif;" class="pl-1">
              {{i.cons}}
          </p>
          <div class="text-left">
                <a data-toggle="popover" title="Tags" data-content="tags will be shown here"><button type="button" class="tag-button ml-3 mb-2">Tags</button></a>

                {{i.likecount}}
                <form action="../conslike/{{i.id}}/" method="post" style="display: inline;" class="ml-0">
                    {% csrf_token%}
                     <button type="submit" style="background-color: white; border:none;"><i class="fa fa-thumbs-o-up mb-2" style="font-size:20px;color:blue"></i></button>
                </form>

                <button type="button" style="background-color: white; border:none;" data-toggle="collapse" data-target="#commentcons{{i.id}}"><i class="fa fa-commenting-o ml-3 mb-2"></i></button>
                <div id="commentcons{{i.id}}" class="collapse">
                    <hr>
                    <div class="d-flex flex-row add-comment-section mb-1">
<!--                        <img class="img-fluid img-responsive rounded-circle mr-2" src="https://i.imgur.com/qdiP4DB.jpg" width="38">-->
                        <input type="text" class="form-control mr-1" placeholder="Add comment">
                        <button class="tag-button" type="button">send</button>
                    </div>
                    {% for c in i.comment %}
                    <div class="card p-3">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="user d-flex flex-row align-items-center" >
                                <img src="https://www.internetandtechnologylaw.com/files/2019/06/iStock-872962368-chat-bots.jpg" width="30" class="user-img rounded-circle mr-2">
                                <span>
                                    <small class="font-weight-bold text-primary">{{c.name}}</small>
                                    <small class="font-weight-bold">{{c.comment}}</small>
                                </span>
                            </div>
                        </div>

                    </div>
                    {% endfor %}
                </div>
          </div>
        </div>
       {% endfor %}
    </div>

  </div>
</div>

<!--script fot popover-->
<script>
    $(document).ready(function(){
      $('[data-toggle="popover"]').popover();
    });
</script>

{%endblock%}